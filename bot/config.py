"""–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞: –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ø—Ä–æ–º—Ç—ã, –¥–µ–º–æ-—Å—Ü–µ–Ω–∞—Ä–∏–∏, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã"""
import os
import logging

# ==============================================================================
# –õ–û–ì–ì–ï–†
# ==============================================================================
logging.basicConfig(
    format=f"%(asctime)s - %(name)s - v4.0.0-modular - %(levelname)s - %(message)s",
    level=logging.INFO
)
logger = logging.getLogger(__name__)

# ==============================================================================
# –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø
# ==============================================================================
TELEGRAM_TOKEN = os.environ.get("TELEGRAM_TOKEN")
GROQ_API_KEY = os.environ.get("GROQ_API_KEY")
PORT = int(os.environ.get("PORT", 10000))  # Render default
WEBHOOK_URL = os.environ.get("WEBHOOK_URL")

# ==============================================================================
# –ö–û–ù–°–¢–ê–ù–¢–´ –í–ï–†–°–ò–ô
# ==============================================================================
BOT_VERSION = "v4.0.0-modular"
CONFIG_VERSION = "v4.0.1"
SKILLTRAINER_VERSION = "v2.3.0"

# ==============================================================================
# 1. –ö–û–ù–°–¢–ê–ù–¢–´ –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê
# ==============================================================================
CALCULATOR_STEPS = [
    "üí∞ –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–∞ (—Ä—É–±):",
    "üè∑Ô∏è –ü—Ä–æ–¥–∞–∂–Ω–∞—è —Ü–µ–Ω–∞ (—Ä—É–±):",
    "üìä –ö–æ–º–∏—Å—Å–∏—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ (%):",
    "üöö –õ–æ–≥–∏—Å—Ç–∏–∫–∞ FBS (% –æ—Ç —Ü–µ–Ω—ã):",
    "üì¢ –ë—é–¥–∂–µ—Ç –Ω–∞ —Ä–µ–∫–ª–∞–º—É, ACOS (%):",
    "üí∏ –ù–∞–ª–æ–≥ –£–°–ù (%):"
]

BENCHMARKS = {
    '–Ω–∞—Ü–µ–Ω–∫–∞': {'–Ω–∏–∑–∫–∞—è': 100, '—Å—Ä–µ–¥–Ω—è—è': 200, '–≤—ã—Å–æ–∫–∞—è': 300},
    '–∫–æ–º–∏—Å—Å–∏—è_mp': {'–Ω–∏–∑–∫–∞—è': 10, '—Å—Ä–µ–¥–Ω—è—è': 15, '–≤—ã—Å–æ–∫–∞—è': 20},
    '–ª–æ–≥–∏—Å—Ç–∏–∫–∞': {'–Ω–∏–∑–∫–∞—è': 10, '—Å—Ä–µ–¥–Ω—è—è': 15, '–≤—ã—Å–æ–∫–∞—è': 20},
    'acos': {'–Ω–∏–∑–∫–∏–π': 5, '—Å—Ä–µ–¥–Ω–∏–π': 10, '–≤—ã—Å–æ–∫–∏–π': 15},
    '—á–∏—Å—Ç–∞—è_–º–∞—Ä–∂–∞': {'–Ω–∏–∑–∫–∞—è': 20, '—Å—Ä–µ–¥–Ω—è—è': 30, '–≤—ã—Å–æ–∫–∞—è': 40}
}

# ==============================================================================
# 2. –°–ò–°–¢–ï–ú–ù–´–ï –ü–†–û–ú–¢–´
# ==============================================================================
SYSTEM_PROMPTS: dict[str, str] = {
    'sage': "–¢—ã ‚Äî –ú—É–¥—Ä–µ—Ü: —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π, –≥–ª—É–±–æ–∫–∏–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫. –û—Ç–≤–µ—Ç—å —á–µ—Ä–µ–∑ –æ–¥–Ω—É –º–µ—Ç–∞—Ñ–æ—Ä—É + –¥–∞–π 3 –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–≤–µ—Ç–∞. –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'strategist': "–¢—ã ‚Äî –°—Ç—Ä–∞—Ç–µ–≥: —Ö–ª–∞–¥–Ω–æ–∫—Ä–æ–≤–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫. –î–∞–π: 1) —Å—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã (1 —Å—Ç—Ä–æ–∫–∞), 2) 3 –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–∞, 3) —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å –∏–∑–º–µ—Ä–∏–º—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏. –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'mentor': "–¢—ã ‚Äî –ù–∞—Å—Ç–∞–≤–Ω–∏–∫: —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –∫–æ—É—á. –î–∞–π: 1) —É—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å, 2) 3 –º–∏–∫—Ä–æ-—à–∞–≥–∞ (‚â§10 —Å–ª–æ–≤ –∫–∞–∂–¥—ã–π), 3) –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—É—é —Ñ—Ä–∞–∑—É (‚â§15 —Å–ª–æ–≤). –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'ideator': "–¢—ã ‚Äî –ò–¥–µ–∞—Ç–æ—Ä: –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–¥–µ–π. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π 5 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–π. –î–ª—è –∫–∞–∂–¥–æ–π ‚Äî –æ–¥–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º. –§–æ—Ä–º–∞—Ç: 1. [–ò–¥–µ—è] ‚Äî [–ü–æ—è—Å–Ω–µ–Ω–∏–µ]. –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'editor': "–¢—ã ‚Äî –†–µ–¥–∞–∫—Ç–æ—Ä: –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä. –£–ª—É—á—à–∏ —Ç–µ–∫—Å—Ç: —Å–¥–µ–ª–∞–π —á—ë—Ç–∫–∏–º, –≥—Ä–∞–º–æ—Ç–Ω—ã–º, —É–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–º. –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é. –ó–∞—Ç–µ–º –¥–æ–±–∞–≤—å: ‚Äî –ß—Ç–æ —É–ª—É—á—à–µ–Ω–æ: [2 –∫—Ä–∞—Ç–∫–∏—Ö –ø—É–Ω–∫—Ç–∞]. –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'growth_expert': "–¢—ã ‚Äî –†–æ—Å—Ç-—ç–∫—Å–ø–µ—Ä—Ç: —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ —Ä–æ—Å—Ç—É. –î–∞–π: 1) –∞–Ω–∞–ª–∏–∑ —Å–∏—Ç—É–∞—Ü–∏–∏ (1 —Å—Ç—Ä–æ–∫–∞), 2) 3 —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏—è, 3) –¥–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏–ª–∏ —Ä–µ—Å—É—Ä—Å–∞ (–Ω–∞–∑–≤–∞–Ω–∏—è + –∫—Ä–∞—Ç–∫–æ). –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'hr_advisor': "–¢—ã ‚Äî HR-—Å–æ–≤–µ—Ç–Ω–∏–∫: –æ–ø—ã—Ç–Ω—ã–π –∫–∞—Ä—å–µ—Ä–Ω—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç. –î–∞–π: 1) —Ç—Ä–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã (—Å –ø—Ä–∏–º–µ—Ä–∞–º–∏), 2) —Ç—Ä–∏ –≥–æ—Ç–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤, 3) –¥–≤–∞ –∫–æ–Ω—Ç—Ä–≤–æ–ø—Ä–æ—Å–∞ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—é. –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'mediator': "–¢—ã ‚Äî –ü–æ—Å—Ä–µ–¥–Ω–∏–∫: —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∞–º. –î–∞–π: 1) –ø–µ—Ä–µ–≤–æ–¥ –ø–æ–∑–∏—Ü–∏–∏ ‚Üí –∏–Ω—Ç–µ—Ä–µ—Å–∞ (1 —Å—Ç—Ä–æ–∫–∞), 2) —Ç—Ä–∏ —Ñ—Ä–∞–∑—ã-—Ç—Ä–∏–≥–≥–µ—Ä–∞ (–≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é), 3) –æ–¥–Ω—É —Ç–∞–∫—Ç–∏–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (‚â§10 —Å–ª–æ–≤). –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'daily_phrase': "–¢—ã ‚Äî –º—É–¥—Ä—ã–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫. –î–∞–π –æ–¥–Ω—É –∫–æ—Ä–æ—Ç–∫—É—é, –≥–ª—É–±–æ–∫—É—é —Ñ—Ä–∞–∑—É –Ω–∞ —Å–µ–≥–æ–¥–Ω—è. –ë–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π. –¢–æ–ª—å–∫–æ —Ñ—Ä–∞–∑–∞. –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'mind_horoscope': "–¢—ã ‚Äî –∞—Å—Ç—Ä–æ–ª–æ–≥ —Ä–∞–∑—É–º–∞. –î–∞–π –º–µ—Ç–∞—Ñ–æ—Ä–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –¥–µ–Ω—å —á–µ—Ä–µ–∑ –æ–±—Ä–∞–∑—ã –ø—Ä–∏—Ä–æ–¥—ã –∏–ª–∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è. –ë–µ–∑ —Å–æ–≤–µ—Ç–æ–≤. –¢–æ–ª—å–∫–æ 2‚Äì3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è. –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'daily_reflection': "–¢—ã ‚Äî —Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä. –ü–æ –æ—Ç–≤–µ—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–¥–µ–ª–∏: 1) —É—Å–ø–µ—Ö –¥–Ω—è (1 —Å—Ç—Ä–æ–∫–∞), 2) –∑–æ–Ω—É —Ä–æ—Å—Ç–∞ (1 —Å—Ç—Ä–æ–∫–∞), 3) –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–∏–∫—Ä–æ-—à–∞–≥ –Ω–∞ –∑–∞–≤—Ç—Ä–∞ (‚â§10 —Å–ª–æ–≤). –ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.",
    'skilltrainer': (
        "–¢—ã ‚Äî SKILLTRAINER: –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä –Ω–∞–≤—ã–∫–æ–≤. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–æ–¥–∏—à—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É (7 –≤–æ–ø—Ä–æ—Å–æ–≤), "
        "–ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –º–µ—Ç–æ–¥–∏–∫–∏ —Å –ø—Ä–µ–≤—å—é-–ø—Ä–∏–º–µ—Ä–∞–º–∏; –∑–∞–ø—É—Å–∫–∞–µ—à—å —Å–µ—Å—Å–∏—é –≤ –æ–¥–Ω–æ–º –∏–∑ —Ä–µ–∂–∏–º–æ–≤ **Sim / Drill / Build / Case / Quiz**. "
        "–†–∞–±–æ—Ç–∞–µ—à—å –ø–æ —à–∞–≥–∞–º —Å HUD –∏ –≥–µ–π—Ç–∞–º–∏ (DOD), –¥–∞—ë—à—å –∫–æ—Ä–æ—Ç–∫–∏–µ HINTS, —Å–æ–±–ª—é–¥–∞–µ—à—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (PII/NDA). "
        "–ù–∞ —Ñ–∏–Ω–∏—à–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—à—å **Finish Packet** –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—à—å —ç–∫—Å–ø–æ—Ä—Ç."
    )
}

# ==============================================================================
# 3. –î–ï–ú–û-–°–¶–ï–ù–ê–†–ò–ò
# ==============================================================================
DEMO_SCENARIOS: dict[str, str] = {
    'sage': "üß† **–ú—É–¥—Ä–µ—Ü** ‚Äî –≤–∞—à —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫. –î–∞—Å—Ç –≥–ª—É–±–æ–∫–∏–π –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ –º–µ—Ç–∞—Ñ–æ—Ä—É –∏ 3 –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–≤–µ—Ç–∞.",
    'strategist': "üìà **–°—Ç—Ä–∞—Ç–µ–≥** ‚Äî –≤–∞—à –ª–∏—á–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫. –†–∞—Å–∫—Ä–æ–µ—Ç —Å—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –∏ –¥–∞—Å—Ç –∏–∑–º–µ—Ä–∏–º—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.",
    'mentor': "üß≠ **–ù–∞—Å—Ç–∞–≤–Ω–∏–∫** ‚Äî –≤–∞—à –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –∫–æ—É—á. –ó–∞–¥–∞—Å—Ç —É—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å, –¥–∞—Å—Ç 3 –º–∏–∫—Ä–æ-—à–∞–≥–∞ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—É—é —Ñ—Ä–∞–∑—É.",
    'ideator': "üí° **–ò–¥–µ–∞—Ç–æ—Ä** ‚Äî –≤–∞—à –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç 5 –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã—Ö, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã—Ö –∏–¥–µ–π –ø–æ –ª—é–±–æ–π —Ç–µ–º–µ.",
    'editor': "‚ú® **–†–µ–¥–∞–∫—Ç–æ—Ä** ‚Äî –≤–∞—à –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ—Ä—Ä–µ–∫—Ç–æ—Ä. –£–ª—É—á—à–∏—Ç –ª—é–±–æ–π —Ç–µ–∫—Å—Ç: —Å–¥–µ–ª–∞–µ—Ç –µ–≥–æ —á—ë—Ç–∫–∏–º, –≥—Ä–∞–º–æ—Ç–Ω—ã–º –∏ —É–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–º.",
    'growth_expert': "üìà **–†–æ—Å—Ç-—ç–∫—Å–ø–µ—Ä—Ç** ‚Äî –≤–∞—à —Å–æ–≤–µ—Ç–Ω–∏–∫ –ø–æ —Ä–æ—Å—Ç—É. –î–∞—Å—Ç —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–∏–∑–Ω–µ—Å–∞, –∫–∞—Ä—å–µ—Ä—ã –∏–ª–∏ –ª–∏—á–Ω–æ–≥–æ –±—Ä–µ–Ω–¥–∞.",
    'hr_advisor': "üíº **HR-—Å–æ–≤–µ—Ç–Ω–∏–∫** ‚Äî –≤–∞—à –∫–∞—Ä—å–µ—Ä–Ω—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é: —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, —Ñ—Ä–∞–∑—ã, –∫–æ–Ω—Ç—Ä–≤–æ–ø—Ä–æ—Å—ã.",
    'mediator': "ü§ù **–ü–æ—Å—Ä–µ–¥–Ω–∏–∫** ‚Äî –≤–∞—à —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∞–º. –ù–∞—É—á–∏—Ç –¥–æ–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å—Å—è, –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤, –Ω–∞—Ö–æ–¥–∏—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å—ã.",
    'daily_phrase': "üåü **–§—Ä–∞–∑–∞ –¥–Ω—è** ‚Äî –æ–¥–Ω–∞ –≥–ª—É–±–æ–∫–∞—è, –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∞—è –º—ã—Å–ª—å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è.",
    'mind_horoscope': "üîÆ **–ì–æ—Ä–æ—Å–∫–æ–ø —Ä–∞–∑—É–º–∞** ‚Äî –º–µ—Ç–∞—Ñ–æ—Ä–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –¥–µ–Ω—å: –≥–¥–µ –∂–¥–∞—Ç—å –ø—Ä–æ—Ä—ã–≤, –∞ –≥–¥–µ ‚Äî –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å.",
    'daily_reflection': "üåô **–†–µ—Ñ–ª–µ–∫—Å–∏—è –¥–Ω—è** ‚Äî –∑–∞–≤–µ—Ä—à–∏—Ç–µ –¥–µ–Ω—å –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ: —É—Å–ø–µ—Ö, –∑–æ–Ω–∞ —Ä–æ—Å—Ç–∞, —à–∞–≥ –Ω–∞ –∑–∞–≤—Ç—Ä–∞.",
    'skilltrainer': """üéì **SKILLTRAINER-Universal** ‚Äî –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä –Ω–∞–≤—ã–∫–æ–≤.
üîπ –ü—Ä–æ—Ö–æ–¥–∏—Ç —Å –≤–∞–º–∏ –∫–æ—Ä–æ—Ç–∫–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é (7 –≤–æ–ø—Ä–æ—Å–æ–≤)
üîπ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–π –Ω–∞–≤—ã–∫ —Å—Ç–æ–∏—Ç –ø—Ä–æ–∫–∞—á–∞—Ç—å
üîπ –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç 5 —Ä–µ–∂–∏–º–æ–≤: Sim / Drill / Build / Case / Quiz
üîπ –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ—à–∞–≥–æ–≤–æ —Å HUD –∏ –≥–µ–π—Ç–∞–º–∏ (DOD)
üîπ –î–∞—ë—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (HINTS ‚â§240 —Å–∏–º–≤–æ–ª–æ–≤)
üîπ –§–æ—Ä–º–∏—Ä—É–µ—Ç **Finish Packet** —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
üîπ –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
üí° –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è: –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤, –ø—Ä–æ–¥–∞–∂, —Å–∞–º–æ—Ä–µ–≥—É–ª—è—Ü–∏–∏, –ø—É–±–ª–∏—á–Ω—ã—Ö –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π, –ª–∏–¥–µ—Ä—Å—Ç–≤–∞."""
}

# ==============================================================================
# 4. SKILLTRAINER –ö–û–ù–°–¢–ê–ù–¢–´
# ==============================================================================
SKILLTRAINER_QUESTIONS = [
    "üéØ **–®–∞–≥ 1/7:** –ö–∞–∫–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –Ω–∞–≤—ã–∫ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞–∑–≤–∏—Ç—å? (–ù–∞–ø—Ä–∏–º–µ—Ä: '–≤–µ–¥–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤', '—É–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è', '—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ç–∞–π–º-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç')",
    "üìä **–®–∞–≥ 2/7:** –ü–æ —à–∫–∞–ª–µ –æ—Ç 1 –¥–æ 10, –≥–¥–µ –≤—ã —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å? (1 - –ø–æ–ª–Ω—ã–π –Ω–æ–≤–∏—á–æ–∫, 10 - —ç–∫—Å–ø–µ—Ä—Ç)",
    "üé≠ **–®–∞–≥ 3/7:** –í –∫–∞–∫–∏—Ö —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –≤—ã —á–∞—â–µ –≤—Å–µ–≥–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç–µ –∏–ª–∏ –±—É–¥–µ—Ç–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å —ç—Ç–æ—Ç –Ω–∞–≤—ã–∫?",
    "üí™ **–®–∞–≥ 4/7:** –ö–∞–∫–∞—è —á–∞—Å—Ç—å —ç—Ç–æ–≥–æ –Ω–∞–≤—ã–∫–∞ –¥–∞–µ—Ç—Å—è –≤–∞–º —Å–ª–æ–∂–Ω–µ–µ –≤—Å–µ–≥–æ? –ß—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏?",
    "üéØ **–®–∞–≥ 5/7:** –ö–∞–∫–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏? (–ò–∑–º–µ—Ä–∏–º–∞—è —Ü–µ–ª—å)",
    "üîÑ **–®–∞–≥ 6/7:** –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –Ω–µ–¥–µ–ª—é –≤—ã –≥–æ—Ç–æ–≤—ã —É–¥–µ–ª—è—Ç—å –ø—Ä–∞–∫—Ç–∏–∫–µ?",
    "üöÄ **–®–∞–≥ 7/7:** –û—Ç–ª–∏—á–Ω–æ! –í—Å–µ –æ—Ç–≤–µ—Ç—ã –∑–∞–ø–∏—Å–∞–Ω—ã. –¢–µ–ø–µ—Ä—å –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:"
]

TRAINING_MODE_DESCRIPTIONS = {
    "sim": "üé≠ **SIM (–°–∏–º—É–ª—è—Ü–∏—è)**: –ü—Ä–∞–∫—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö —Å–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–≤—ã–∫–æ–≤ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å—Ä–µ–¥–µ.",
    "drill": "üí™ **DRILL (–û—Ç—Ä–∞–±–æ—Ç–∫–∞)**: –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ—Ö–Ω–∏–∫ –∏ –ø—Ä–∏–µ–º–æ–≤. –î–ª—è –¥–æ–≤–µ–¥–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π –¥–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–º–∞.",
    "build": "üèóÔ∏è **BUILD (–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ)**: –ü–æ—ç—Ç–∞–ø–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏–ª–∏ —Å–∏—Å—Ç–µ–º—ã. –î–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.",
    "case": "üìã **CASE (–ö–µ–π—Å)**: –†–∞–∑–±–æ—Ä —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–ª–∏ –≥–∏–ø–æ—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∫–µ–π—Å–æ–≤. –î–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è.",
    "quiz": "‚ùì **QUIZ (–¢–µ—Å—Ç)**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π —á–µ—Ä–µ–∑ –≤–æ–ø—Ä–æ—Å—ã –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏. –î–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ç–µ–æ—Ä–∏–∏ –∏ –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è."
}

SKILLTRAINER_GATES = {
    "interview_complete": {
        "id": "interview_complete",
        "description": "‚úÖ –î–∞–Ω—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ 7 –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏",
        "validate": lambda session: len(session.answers) >= 7 and all(len(str(v)) > 5 for v in session.answers.values())
    },
    "mode_selected": {
        "id": "mode_selected",
        "description": "‚úÖ –í—ã–±—Ä–∞–Ω —Ä–µ–∂–∏–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (Sim/Drill/Build/Case/Quiz)",
        "validate": lambda session: session.selected_mode is not None
    },
    "training_complete": {
        "id": "training_complete",
        "description": "‚úÖ –ü—Ä–æ–π–¥–µ–Ω–∞ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –æ–¥–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å–µ—Å—Å–∏—è",
        "validate": lambda session: session.training_complete
    }
}

# ==============================================================================
# 5. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ö–õ–ê–í–ò–ê–¢–£–†
# ==============================================================================
from telegram import ReplyKeyboardMarkup, KeyboardButton

# –û—Å–Ω–æ–≤–Ω–∞—è reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ ‚Äî –û–°–¢–ê–Å–¢–°–Ø –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô: —Ç–æ–ª—å–∫–æ 2 –∫–Ω–æ–ø–∫–∏
REPLY_KEYBOARD_MARKUP = ReplyKeyboardMarkup(
    [
        [KeyboardButton("üè† –ú–µ–Ω—é"), KeyboardButton("üìä –ü—Ä–æ–≥—Ä–µ—Å—Å")]
    ],
    one_time_keyboard=False,
    resize_keyboard=True
)
